# Integer overflow in bson_ensure_space (whoopsie CVE-2019-11484)

[CVE-2019-11484](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-11484)
is an integer overflow in [whoopsie](https://launchpad.net/ubuntu/+source/whoopsie).
The integer overflow is triggered by a large crash report (> 2GB) and leads to
a subsequent heap buffer overflow.
This file contains instructions for running the simple version of the proof-of-concept exploit,
which just causes whoopsie to crash with a segmentation fault.
A more sophisticated PoC, which can get a shell as the whoopsie user, is described in 
[README_CVE-2019-15790](README_CVE-2019-15790.md).
The full bug report is public on `bugs.launchpad.net`:
[bug 1830865](https://bugs.launchpad.net/ubuntu/+source/whoopsie/+bug/1830865).

## Instructions

Note: these reproduction steps will only work with a vulnerable version of whoopsie.
See [CVE-2019-11484](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-11484)
for a list of vulnerable versions.

Build the PoC as follows:

```bash
make
```

And run it like this:

```bash
./killwhoopsie2
```
